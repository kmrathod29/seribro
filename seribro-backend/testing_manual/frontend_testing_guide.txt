# üñ•Ô∏è Frontend Testing Guide - Seribro

## üöÄ Prerequisites
- Frontend running: `npm start` or `npm run dev`
- Backend running: `http://localhost:7000`
- Browser DevTools open (F12)

---

## 1Ô∏è‚É£ **Testing Student Registration Flow**

### Step 1: Navigate to Signup Page
```
http://localhost:3000/signup
```

### Step 2: Select "Student" Tab
- Should be selected by default
- Toggle should show visual feedback

### Step 3: Fill Student Form
| Field | Test Value |
|-------|------------|
| Full Name | `Arman Mahetar` |
| Email | `arman@test.com` |
| College | `Bhavnagar University` |
| Skills | `React, Node.js, MongoDB` |
| Password | `password123` |
| College ID | Upload any image/PDF |

### Step 4: Submit & Check
1. Click **"Create Account"** button
2. Button should show: "Creating Account..."
3. Button should be disabled during loading

### ‚úÖ Expected Results:
- **Success Alert:** "Registration successful. OTP sent to your email for verification. Please check your email for OTP."
- **Redirect:** Should navigate to `/login` page
- **Network Tab:** Should show 201 status code

### üîç Debugging in Browser Console:
```javascript
// Check if data is being sent
// In Signup.jsx, formData should contain:
fullName: "Arman Mahetar"
email: "arman@test.com"
college: "Bhavnagar University"
skills: "React, Node.js, MongoDB"
password: "password123"
collegeId: File
```

### ‚ùå Common Errors to Test:

**Error 1: Missing Fields**
- Leave email empty ‚Üí Should show: "Please fill in all required fields"

**Error 2: Short Password**
- Enter password: `123` ‚Üí Should show: "Password must be at least 6 characters"

**Error 3: No File Upload**
- Don't upload College ID ‚Üí Should show: "Please upload your college ID"

**Error 4: Duplicate Email**
- Register again with same email ‚Üí Should show: "User already exists"

---

## 2Ô∏è‚É£ **Testing Company Registration Flow**

### Step 1: Navigate to Signup Page
```
http://localhost:3000/signup
```

### Step 2: Select "Company / Business" Tab
- Click on company tab
- Form should switch to company fields

### Step 3: Fill Company Form
| Field | Test Value |
|-------|------------|
| Contact Person Name | `Rahul Shah` |
| Company Name | `Tech Solutions Pvt Ltd` |
| Email | `hr@techsolutions.com` |
| Password | `company@123` |
| Verification Document | Upload GST/Certificate |

### Step 4: Submit & Check
Same process as student registration

### ‚úÖ Expected Results:
- Alert with success message
- Redirect to `/login`
- 201 status in Network tab

---

## 3Ô∏è‚É£ **Testing Login Flow**

### Step 1: Navigate to Login Page
```
http://localhost:3000/login
```

### Step 2: Try Login WITHOUT Email Verification

**Test Data:**
```
Email: arman@test.com
Password: password123
```

### ‚ùå Expected Error:
- **Error Message:** "Email not verified. Please verify your email first"
- **OTP Field:** Should appear below password
- **Send OTP Button:** Should be visible

### Step 3: Send & Verify OTP

#### 3A. Send OTP
1. Click **"Send OTP"** button
2. Check backend console for OTP (if email not configured)
3. Alert should show: "New OTP sent to your email"

#### 3B. Enter OTP
1. Type 6-digit OTP in the OTP field
2. Click **"Verify"** button
3. Alert should show: "Email verified successfully. You can now log in."
4. OTP field should disappear

### Step 4: Login Again (After Verification)

**Test Data:**
```
Email: arman@test.com
Password: password123
```

### ‚úÖ Expected Results:
- **Success:** No error message
- **Redirect:** 
  - Students ‚Üí `/student-dashboard`
  - Companies ‚Üí `/company-dashboard`
- **Cookie:** JWT cookie should be set (check Application ‚Üí Cookies in DevTools)

### üîç Check Cookie in DevTools:
1. Open DevTools (F12)
2. Go to **Application** tab ‚Üí **Cookies**
3. Look for domain: `localhost`
4. Cookie name: `jwt`
5. Cookie should have value (JWT token)

---

## 4Ô∏è‚É£ **Testing Form Validations**

### Test Case 1: Empty Fields
**Action:** Click "Create Account" without filling anything
**Expected:** Error message: "Please fill in all required fields"

### Test Case 2: Invalid Email Format
**Action:** Enter email: `notanemail`
**Expected:** Browser validation should show error

### Test Case 3: Password Strength
**Action:** Enter password: `123`
**Expected:** "Password must be at least 6 characters"

### Test Case 4: File Upload Feedback
**Action:** Upload a file
**Expected:** File name should appear in the upload area

### Test Case 5: Toggle Password Visibility
**Action:** Click eye icon in password field
**Expected:** Password should toggle between visible/hidden

---

## 5Ô∏è‚É£ **Testing UI/UX Elements**

### Visual Tests:

‚úÖ **Loading States:**
- Button shows "Creating Account..." during submission
- Button shows "Logging in..." during login
- Buttons are disabled during API calls

‚úÖ **Error Display:**
- Red error box appears at top of form
- Error disappears when user starts typing

‚úÖ **User Type Toggle:**
- Student/Company tabs switch correctly
- Form fields change based on selection
- Active tab has different styling

‚úÖ **Responsive Design:**
- Test on mobile view (DevTools ‚Üí Toggle device toolbar)
- Form should be readable on small screens
- Buttons should be clickable on mobile

‚úÖ **Animations:**
- Background gradient blobs animate
- Hover effects on buttons work
- Form elements have smooth transitions

---

## 6Ô∏è‚É£ **Network Tab Debugging**

### Open Network Tab (DevTools ‚Üí Network)

### For Registration Request:
```
Method: POST
URL: http://localhost:7000/api/auth/student/register
Status: 201 (success) or 400/409/500 (error)
Type: xhr

Request Headers:
  Content-Type: multipart/form-data

Form Data:
  fullName: "Arman Mahetar"
  email: "arman@test.com"
  college: "Bhavnagar University"
  skills: "React, Node.js, MongoDB"
  password: "password123"
  collegeId: (binary)

Response:
{
  "message": "Registration successful...",
  "userId": "...",
  "email": "..."
}
```

### For Login Request:
```
Method: POST
URL: http://localhost:7000/api/auth/login
Status: 200 (success) or 401 (error)

Request Payload (JSON):
{
  "email": "arman@test.com",
  "password": "password123"
}

Response Headers:
  Set-Cookie: jwt=<token>; Path=/; HttpOnly

Response Body:
{
  "_id": "...",
  "email": "...",
  "role": "student",
  "emailVerified": true,
  "profileCompleted": false,
  "message": "Login successful"
}
```

---

## 7Ô∏è‚É£ **Console Debugging**

### Check Console for Errors:

**Common Console Errors:**

‚ùå **CORS Error:**
```
Access to XMLHttpRequest at 'http://localhost:7000/api/auth/login' 
from origin 'http://localhost:3000' has been blocked by CORS policy
```
**Solution:** Add CORS middleware in backend with `credentials: true`

‚ùå **Network Error:**
```
Error: Network Error
```
**Solution:** Backend is not running. Start it: `npm run dev`

‚ùå **404 Not Found:**
```
POST http://localhost:7000/api/auth/login 404 (Not Found)
```
**Solution:** Check route path in backend

---

## 8Ô∏è‚É£ **Testing Logout (Future)**

When you implement logout:

### Test Steps:
1. Login successfully
2. Check cookie is set
3. Click Logout button
4. Check cookie is cleared
5. Try accessing protected route ‚Üí Should redirect to login

---

## üêõ **Common Frontend Issues & Solutions**

### Issue 1: "Signup failed. Please try again."
**Debug Steps:**
1. Open Network tab ‚Üí Check request details
2. Check response body for actual error
3. Open Console ‚Üí Look for JavaScript errors
4. Check backend console for errors

**Common Causes:**
- Field name mismatch (frontend vs backend)
- Missing file upload
- Backend not running
- CORS issues

### Issue 2: File upload shows error
**Solution:**
- Check file size (should be < 5MB)
- Check file format (images/PDF only)
- Check `uploadMiddleware` configuration

### Issue 3: Redirect not working after signup
**Solution:**
- Check `useNavigate()` import from react-router-dom
- Check routes are configured in App.js
- Check browser console for navigation errors

### Issue 4: Cookie not set after login
**Debug:**
```javascript
// In browser console after login
document.cookie
// Should show: jwt=<token_value>
```

**Solution:**
- Check `withCredentials: true` in api.js
- Check backend sends cookie with correct options
- Check CORS allows credentials

---

## ‚úÖ **Complete Testing Checklist**

### Registration Testing:
- [ ] Student registration with all fields works
- [ ] Company registration with all fields works
- [ ] File upload works and shows filename
- [ ] Form validation shows proper errors
- [ ] Success alert appears
- [ ] Redirects to login page
- [ ] OTP sent to email/console

### Login Testing:
- [ ] Login fails if email not verified
- [ ] OTP field appears for unverified users
- [ ] Send OTP works
- [ ] Verify OTP works
- [ ] Login succeeds after verification
- [ ] JWT cookie is set
- [ ] Correct dashboard redirect (student/company)
- [ ] Wrong password shows error
- [ ] Wrong email shows error

### UI/UX Testing:
- [ ] User type toggle works
- [ ] Password visibility toggle works
- [ ] Loading states show correctly
- [ ] Error messages clear on typing
- [ ] Buttons disabled during loading
- [ ] Forms are responsive on mobile
- [ ] All animations work smoothly

### Integration Testing:
- [ ] Backend receives correct data
- [ ] Files uploaded successfully
- [ ] Database entries created correctly
- [ ] Cookies set and read properly
- [ ] Navigation between pages works

---

## üéØ **Testing Workflow**

```
1. Clear browser cookies/localStorage
2. Start fresh from homepage
3. Go to Signup ‚Üí Test student registration
4. Check email/console for OTP
5. Go to Login ‚Üí Try login (should fail - unverified)
6. Send OTP ‚Üí Verify OTP
7. Login again ‚Üí Should succeed
8. Check dashboard redirect
9. Test logout (when implemented)
10. Repeat for company registration
```

---

## üìä **Success Criteria**

Your frontend is working correctly if:

‚úÖ Registration form submits without errors
‚úÖ File uploads work properly
‚úÖ Error messages display correctly
‚úÖ OTP flow works end-to-end
‚úÖ Login succeeds after email verification
‚úÖ JWT cookie is set after login
‚úÖ Correct dashboard redirect happens
‚úÖ UI is responsive and animations work
‚úÖ No console errors during normal flow

---

## üîß **Useful Browser Console Commands**

```javascript
// Check if cookie is set
document.cookie

// Clear all cookies (for testing)
document.cookie.split(";").forEach(c => {
  document.cookie = c.replace(/^ +/, "")
    .replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/");
});

// Check localStorage (if using)
localStorage.getItem('user')

// Check API base URL
console.log('API Base URL:', 'http://localhost:7000/api/auth');
```